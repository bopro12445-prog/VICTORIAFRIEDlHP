<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For Someone Special ‚ù§Ô∏è</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    body{
      margin:0;
      overflow:hidden;
      font-family:Inter,sans-serif;
      height:100vh;
      background:linear-gradient(135deg,#f9a8d4,#f3e8ff);
    }
    .step{
      position:absolute;
      max-width:800px;
      padding:40px;
      background:rgba(255,255,255,.55);
      backdrop-filter:blur(10px);
      border-radius:20px;
      box-shadow:0 10px 30px rgba(0,0,0,.1);
      opacity:0;
      transform:translateY(20px);
      transition:.8s ease;
      pointer-events:none;
    }
    .step.active{
      opacity:1;
      transform:translateY(0);
      pointer-events:auto;
    }
    .btn{
      background:linear-gradient(135deg,#ec4899,#f43f5e);
      color:white;
      padding:12px 26px;
      border-radius:999px;
      font-weight:600;
      margin-top:20px;
    }
    .text-gradient{
      background:linear-gradient(135deg,#ec4899,#f43f5e,#f59e0b);
      -webkit-background-clip:text;
      color:transparent;
    }
  </style>
</head>

<body>

<!-- üéπ NH·∫†C N·ªÄN -->
<audio id="bgm" loop preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/10/03/audio_4b7c1c2b88.mp3?filename=romantic-piano-126574.mp3" type="audio/mpeg">
</audio>

<div id="canvas-container" class="fixed inset-0 z-0"></div>

<div class="relative z-10 flex items-center justify-center h-screen">

  <div id="step1" class="step active text-center">
    <h1 class="text-5xl font-bold text-gradient mb-6">Hey Beautiful ‚ù§Ô∏è</h1>
    <p class="text-xl text-gray-700 mb-6">I made something special for you</p>
    <button id="start-btn" class="btn">Let‚Äôs Begin</button>
  </div>

  <div id="step2" class="step text-center">
    <h2 class="text-4xl font-bold text-gradient mb-6">Happy Birthday üéâ</h2>
    <p class="text-lg text-gray-700">Your smile makes everything softer.</p>
    <button id="next2" class="btn">Next</button>
  </div>

  <div id="step3" class="step text-center">
    <h2 class="text-4xl font-bold text-gradient mb-6">Why you‚Äôre special</h2>
    <p class="text-gray-700">You turn moments into memories.</p>
    <button id="next3" class="btn">Next</button>
  </div>

  <div id="step4" class="step text-center">
    <h2 class="text-4xl font-bold text-gradient mb-6">A small memory</h2>
    <p class="text-gray-700 mb-6">Every second with you feels warm.</p>
    <button id="next4" class="btn">One last thing</button>
  </div>

  <div id="step5" class="step text-center">
    <h2 class="text-4xl font-bold text-gradient mb-6">My wish for you üéÇ</h2>
    <p class="text-lg text-gray-700 mb-6">
      May life always be gentle with you.
    </p>
    <button id="confetti-btn" class="btn">Celebrate!</button>

    <p id="final-letter"
       class="mt-10 text-2xl font-semibold text-pink-700 opacity-0">
      No matter where life takes us,<br>
      I‚Äôm glad it led me to you.
    </p>
  </div>
</div>

<script>
/* üåå THREE.JS */
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,.1,1000);
camera.position.z=30;

const renderer=new THREE.WebGLRenderer({alpha:true,antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.getElementById("canvas-container").appendChild(renderer.domElement);

const shape=new THREE.Shape();
shape.moveTo(0,0);
shape.bezierCurveTo(0,0,-1,-1,-2,0);
shape.bezierCurveTo(-4,3,-2,5,0,7);
shape.bezierCurveTo(2,5,4,3,2,0);
shape.bezierCurveTo(1,-1,0,0,0,0);

const geo=new THREE.ExtrudeGeometry(shape,{depth:.5,bevelEnabled:true});
const hearts=[];
for(let i=0;i<20;i++){
  const m=new THREE.Mesh(
    geo,
    new THREE.MeshPhongMaterial({color:0xff69b4,transparent:true,opacity:.9})
  );
  m.position.set((Math.random()-.5)*40,(Math.random()-.5)*40,(Math.random()-.5)*40);
  scene.add(m); hearts.push(m);
}
scene.add(new THREE.AmbientLight(0xffffff,.8));

function animate(){
  requestAnimationFrame(animate);
  hearts.forEach(h=>h.rotation.y+=.005);
  renderer.render(scene,camera);
}
animate();

/* üß≠ STEP + MUSIC */
const bgm=document.getElementById("bgm");
let step=1;
function show(n){
  document.querySelectorAll(".step").forEach(s=>s.classList.remove("active"));
  document.getElementById("step"+n).classList.add("active");
}

document.getElementById("start-btn").onclick=()=>{
  bgm.muted=true;
  bgm.volume=0;
  bgm.play().then(()=>{
    bgm.muted=false;
    gsap.to(bgm,{volume:.6,duration:3});
  });
  step=2; show(step);
};

document.getElementById("next2").onclick=()=>{step=3;show(step);}
document.getElementById("next3").onclick=()=>{step=4;show(step);}
document.getElementById("next4").onclick=()=>{
  gsap.to(bgm,{volume:.25,duration:2});
  step=5;show(step);
};

/* üéâ CELEBRATE */
document.getElementById("confetti-btn").onclick=()=>{
  gsap.to(bgm,{volume:.12,duration:1.5});

  hearts.forEach(h=>{
    gsap.to(h.position,{x:0,y:0,z:0,duration:1});
    gsap.to(h.material,{opacity:0,duration:2});
  });

  confetti({particleCount:200,spread:80});
  confetti({particleCount:50,shapes:["heart"],colors:["#ff69b4"]});

  gsap.to("#final-letter",{opacity:1,y:-10,duration:2});
};
</script>

</body>
</html>

