<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For Someone Special ‚ù§Ô∏è</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    body {
      margin: 0;
      overflow: hidden;
      font-family: 'Inter', sans-serif;
      height: 100vh;
      background: linear-gradient(135deg, #f9a8d4, #f3e8ff);
    }

    .step {
      position: absolute;
      max-width: 800px;
      padding: 40px;
      background: rgba(255,255,255,0.55);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.8s ease;
      pointer-events: none;
    }

    .step.active {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    .btn {
      background: linear-gradient(135deg,#ec4899,#f43f5e);
      color: white;
      padding: 12px 24px;
      border-radius: 999px;
      font-weight: 600;
      margin-top: 20px;
    }

    .text-gradient {
      background: linear-gradient(135deg,#ec4899,#f43f5e,#f59e0b);
      -webkit-background-clip: text;
      color: transparent;
    }
  </style>
</head>

<body>

<!-- üéπ NH·∫†C N·ªÄN ONLINE -->
<audio id="bgm" loop preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/10/03/audio_4b7c1c2b88.mp3?filename=romantic-piano-126574.mp3" type="audio/mpeg">
</audio>

<div id="canvas-container" class="fixed inset-0 z-0"></div>

<div class="relative z-10 flex items-center justify-center h-screen">
  <div id="step1" class="step active text-center">
    <h1 class="text-5xl font-bold text-gradient mb-6">Hey Beautiful ‚ù§Ô∏è</h1>
    <p class="text-xl text-gray-700 mb-6">I made something special for you</p>
    <button id="start-btn" class="btn">Let‚Äôs Begin</button>
  </div>

  <div id="step2" class="step text-center">
    <h2 class="text-4xl font-bold text-gradient mb-6">Happy Birthday üéâ</h2>
    <p class="text-lg text-gray-700">
      Your smile brightens my world, and your presence makes everything softer.
    </p>
    <button id="next2" class="btn">Next</button>
  </div>

  <div id="step3" class="step text-center">
    <h2 class="text-4xl font-bold text-gradient mb-6">Why you‚Äôre special</h2>
    <p class="text-gray-700">Because you make ordinary moments feel meaningful.</p>
    <button id="next3" class="btn">Next</button>
  </div>

  <div id="step4" class="step text-center">
    <h2 class="text-4xl font-bold text-gradient mb-6">A small memory</h2>
    <p class="text-gray-700 mb-6">Every moment with you becomes something I want to keep.</p>
    <button id="next4" class="btn">One last thing</button>
  </div>

  <div id="step5" class="step text-center">
    <h2 class="text-4xl font-bold text-gradient mb-6">My wish for you üéÇ</h2>
    <p class="text-lg text-gray-700 mb-6">
      May your days be gentle, your dreams be close, and your heart always warm.
    </p>

    <button id="confetti-btn" class="btn">Celebrate!</button>

    <p id="final-letter"
       class="mt-10 text-2xl font-semibold text-pink-700 opacity-0">
      No matter where life takes us,<br />
      I‚Äôm glad it led me to you.
    </p>
  </div>
</div>

<script>
/* üåå THREE.JS HEART BACKGROUND */
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000);
camera.position.z = 30;

const renderer = new THREE.WebGLRenderer({alpha:true,antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.getElementById("canvas-container").appendChild(renderer.domElement);

const heartShape = new THREE.Shape();
heartShape.moveTo(0,0);
heartShape.bezierCurveTo(0,0,-1,-1,-2,0);
heartShape.bezierCurveTo(-4,3,-2,5,0,7);
heartShape.bezierCurveTo(2,5,4,3,2,0);
heartShape.bezierCurveTo(1,-1,0,0,0,0);

const geometry = new THREE.ExtrudeGeometry(heartShape,{depth:0.5,bevelEnabled:true});
const hearts = [];

for(let i=0;i<20;i++){
  const mesh = new THREE.Mesh(
    geometry,
    new THREE.MeshPhongMaterial({color:0xff69b4,transparent:true,opacity:0.9})
  );
  mesh.position.set(
    (Math.random()-0.5)*40,
    (Math.random()-0.5)*40,
    (Math.random()-0.5)*40
  );
  mesh.userData.origin = mesh.position.clone();
  scene.add(mesh);
  hearts.push(mesh);
}

scene.add(new THREE.AmbientLight(0xffffff,0.8));

function animate(){
  requestAnimationFrame(animate);
  hearts.forEach(h=>{
    h.rotation.y += 0.005;
  });
  renderer.render(scene,camera);
}
animate();

/* üß≠ STEP LOGIC */
let step = 1;
function show(n){
  document.querySelectorAll(".step").forEach(s=>s.classList.remove("active"));
  document.getElementById("step"+n).classList.add("active");
}

document.getElementById("start-btn").onclick = ()=>{
  const music = document.getElementById("bgm");
  music.volume = 0;
  music.play();
  gsap.to(music,{volume:0.6,duration:3});
  step=2; show(step);
};

document.getElementById("next2").onclick=()=>{step=3;show(step);}
document.getElementById("next3").onclick=()=>{step=4;show(step);}
document.getElementById("next4").onclick=()=>{
  gsap.to(bgm,{volume:0.25,duration:2});
  step=5;show(step);
};

/* üéâ CELEBRATE COMBO */
document.getElementById("confetti-btn").onclick=()=>{
  gsap.to(bgm,{volume:0.12,duration:1.5});

  hearts.forEach(h=>{
    gsap.to(h.position,{x:0,y:0,z:0,duration:1});
  });

  setTimeout(()=>{
    confetti({particleCount:180,spread:80});
    confetti({particleCount:40,shapes:["heart"],colors:["#ff69b4"]});

    hearts.forEach(h=>{
      gsap.to(h.material,{opacity:0,duration:2});
    });

    gsap.to("#final-letter",{opacity:1,y:-10,duration:2});
  },1100);
};
</script>

</body>
</html>
